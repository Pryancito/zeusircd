#!/bin/bash

# Configure script for ZeusIRCD

#++++++++++++++++
# By @blacknode
#++++++++++++++++

wrong='\033[0;31m'
ok='\033[0;32m'
prompt='\033[0;3m'
endc='\033[0m'


echo -e "\033[1;48;5;8m********************************************\033[0m"
echo -e "\033[1;48;5;8m********************************************\033[0m"
echo -e "\033[1;48;5;8m************************ ,--.,---.,----.****\033[0m"
echo -e "\033[1;48;5;8m**** ,---. {code}        |  |  Â¬_|  ,--.****\033[0m"
echo -e "\033[1;48;5;8m****    / .---.,   .,---.|  |  __,  |   ****\033[0m"
echo -e "\033[1;48;5;8m****   /  |---'    | ---.|  |  |\  \'--'****\033[0m"
echo -e "\033[1;48;5;8m**** '---'^---'^---''---'^--^--^ ^--^--'****\033[0m"
echo -e "\033[1;48;5;8m********************************************\033[0m"
echo -e "\033[1;48;5;8m**** { Innovating, Making The World } ******\033[0m"
echo -e "\033[1;48;5;8m********************************************\033[0m"
echo -e "\033[1;48;5;8m********************************************\033[0m"
echo " "
echo -e "Let's go! babe..."
echo " "

print_ok()
{
	echo -e "checking now for $1... yes";
}
print_fail()
{
	echo -e "\033[1;48;5;1m checking now for $1... no (STOP!) \033[0m";
	echo -e "\`-> Please install $i now, require for ZeusIRCD and re-run this script.";
	exit
}

os=`uname -s`
arch=`uname -m`
kernel=`uname -r`


LIBS='ssl pthread boost sqlite3 microhttpd crypto gcc cpp g++ wget'

for i in $LIBS; do
	#get path in disk
	run=`whereis $i`

	IFS=' ' read -ra token <<< "$run"

	found=0;


	if [[ ${token[1]} ]]; 
		then
			found=1;
		else
			found=2;
	fi

	case "$found" in
		1) 	print_ok $i;;
		*)  print_fail $i ;;
	esac

	cat>Makefile_<<MAKE
#Ready ;)
MAKE

done


MAXUSERS=`ulimit -n`
echo "checking for MAXUSERS... " ${MAXUSERS}
WORKSPACE=`pwd`
echo "checking for workspace environment... " ${WORKSPACE}
echo "checking for os type..." ${os}
echo "checking for os architecture..." ${arch}
echo "checking for kernel typo..." ${kernel}

